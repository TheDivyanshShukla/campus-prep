{% extends "base.html" %}

{% block title %}Settings - Campus Prep{% endblock %}

{% block content %}
<div class="max-w-4xl mx-auto px-4 py-12">
    <!-- Header -->
    <div class="mb-10 text-center">
        <h1 class="text-3xl font-extrabold tracking-tight mb-2">Settings & Account</h1>
        <p class="text-muted-foreground text-lg">Manage your study program, view progress, and account details.</p>
    </div>

    <!-- Main Grid -->
    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
        
        <!-- Analytics Hub Card -->
        <a href="{% url 'gamification_dashboard' %}" class="group relative bg-card hover:bg-muted/50 border border-border rounded-2xl p-6 transition-all duration-300 hover:shadow-lg flex flex-col items-center text-center">
            <div class="w-14 h-14 bg-rose-100 dark:bg-rose-900/30 text-rose-500 rounded-2xl flex items-center justify-center mb-4 group-hover:scale-110 transition-transform duration-300">
                <svg class="w-7 h-7" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path>
                </svg>
            </div>
            <h3 class="text-xl font-bold mb-2">Study Analytics</h3>
            <p class="text-muted-foreground text-sm">Check your streaks, total XP, and daily study time logs.</p>
            <div class="mt-4 text-rose-500 font-semibold text-sm flex items-center group-hover:translate-x-1 transition-transform">
                View Dashboard <svg class="ml-1 w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg>
            </div>
        </a>

        <!-- My Purchases Card -->
        <a href="{% url 'user_purchases' %}" class="group relative bg-card hover:bg-muted/50 border border-border rounded-2xl p-6 transition-all duration-300 hover:shadow-lg flex flex-col items-center text-center">
            <div class="w-14 h-14 bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400 rounded-2xl flex items-center justify-center mb-4 group-hover:scale-110 transition-transform duration-300">
                <svg class="w-7 h-7" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"></path>
                </svg>
            </div>
            <h3 class="text-xl font-bold mb-2">My Purchases</h3>
            <p class="text-muted-foreground text-sm">Access your unlocked PYQs, Gold Pass content, and history.</p>
            <div class="mt-4 text-blue-600 dark:text-blue-400 font-semibold text-sm flex items-center group-hover:translate-x-1 transition-transform">
                Manage Vault <svg class="ml-1 w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg>
            </div>
        </a>

        <!-- Study Program Card -->
        <a href="{% url 'onboarding' %}" class="group relative bg-card hover:bg-muted/50 border border-border rounded-2xl p-6 transition-all duration-300 hover:shadow-lg flex flex-col items-center text-center">
            <div class="w-14 h-14 bg-indigo-100 dark:bg-indigo-900/30 text-indigo-600 dark:text-indigo-400 rounded-2xl flex items-center justify-center mb-4 group-hover:scale-110 transition-transform duration-300">
                <svg class="w-7 h-7" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 14l9-5-9-5-9 5 9 5z"></path>
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 14l6.16-3.422a12.083 12.083 0 01.665 6.479A11.952 11.952 0 0012 20.055a11.952 11.952 0 00-6.824-2.998 12.078 12.078 0 01.665-6.479L12 14z"></path>
                </svg>
            </div>
            <h3 class="text-xl font-bold mb-2">Degree Program</h3>
            <p class="text-muted-foreground text-sm">Change your Branch or Semester to update study recommendations.</p>
            <div class="mt-4 text-indigo-600 dark:text-indigo-400 font-semibold text-sm flex items-center group-hover:translate-x-1 transition-transform">
                Edit Preferences <svg class="ml-1 w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg>
            </div>
        </a>

        <!-- Account Info Card -->
        <div class="bg-card border border-border rounded-2xl p-6 transition-all duration-300 flex flex-col items-center text-center">
            <div class="w-14 h-14 bg-muted text-muted-foreground rounded-2xl flex items-center justify-center mb-4">
                <svg class="w-7 h-7" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path>
                </svg>
            </div>
            <h3 class="text-xl font-bold mb-1">{{ user.username }}</h3>
            <p class="text-muted-foreground text-sm mb-6">{{ user.email }}</p>
            
            <a href="{% url 'logout' %}" class="w-full h-11 bg-muted hover:bg-rose-500/10 hover:text-rose-500 text-muted-foreground font-bold rounded-xl text-sm transition-all flex items-center justify-center border border-border hover:border-rose-500/30">
                Log out
            </a>
        </div>

    </div>
</div>
{% endblock %}
